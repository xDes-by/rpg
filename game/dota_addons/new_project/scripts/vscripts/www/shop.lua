
_G.basicshop = {
	[1] = {
		name = "pets",
		[1] = {name = "pet_change", price = {don = 500}, image = "images/custom_game/DonateShop/items/pet_change.png", rarity = "#fa3535", text_color = "white", type = "pet_change", tooltip = "shop_image_pet_change_tooltip"},
		[2] = {name = "ratingpoints_1", price = {rp = 250}, itemname = "item_pet_donate_simple_1", rarity = "#00ff48", text_color = "#00ff48", type = "pet", currency = "mmrpoints"},
		[3] = {name = "ratingpoints_2", price = {rp = 350}, itemname = "item_pet_donate_simple_2", rarity = "#00ff48", text_color = "#00ff48", type = "pet", currency = "mmrpoints"},
		[4] = {name = "ratingpoints_3", price = {rp = 450}, itemname = "item_pet_donate_simple_3", rarity = "#00ff48", text_color = "#00ff48", type = "pet", currency = "mmrpoints"},
		[5] = {name = "pet_15", price = {don = 50}, itemname = "item_pet_donate_mana_regen", rarity = "#0044ff", text_color = "#0044ff", type = "pet"},
		[6] = {name = "pet_13", price = {don = 50}, itemname = "item_pet_donate_hp_com", rarity = "#0044ff", text_color = "#0044ff", type = "pet"},
		[7] = {name = "pet_14", price = {don = 50}, itemname = "item_pet_donate_dmg_com", rarity = "#0044ff", text_color = "#0044ff", type = "pet"},
		[8] = {name = "pet_5", price = {don = 100}, itemname = "item_pet_donate_total_dmg", rarity = "#ffa600", text_color = "#ffa600", type = "pet"},
		[9] = {name = "pet_6", price = {don = 100}, itemname = "item_pet_donate_int", rarity = "#ffa600", text_color = "#ffa600", type = "pet"},
		[10] = {name = "pet_7", price = {don = 100}, itemname = "item_pet_donate_str", rarity = "#ffa600", text_color = "#ffa600", type = "pet"},
		[11] = {name = "pet_8", price = {don = 100}, itemname = "item_pet_donate_agi", rarity = "#ffa600", text_color = "#ffa600", type = "pet"},
		[12] = {name = "pet_9", price = {don = 100}, itemname = "item_pet_donate_heal", rarity = "#ffa600", text_color = "#ffa600", type = "pet"},
		[13] = {name = "pet_1", price = {don = 150}, itemname = "item_pet_donate_dmg", rarity = "#d400ff", text_color = "#d400ff", type = "pet"},
		[14] = {name = "pet_2", price = {don = 150}, itemname = "item_pet_donate_hp", rarity = "#d400ff", text_color = "#d400ff", type = "pet"},
		[15] = {name = "pet_3", price = {don = 150}, itemname = "item_pet_donate_fast", rarity = "#d400ff", text_color = "#d400ff", type = "pet"},
		[16] = {name = "pet_4", price = {don = 150}, itemname = "item_pet_donate_cleave", rarity = "#d400ff", text_color = "#d400ff", type = "pet"},
		[17] = {name = "pet_10", price = {don = 150}, itemname = "item_pet_donate_block", rarity = "#d400ff", text_color = "#d400ff", type = "pet"},
		[18] = {name = "pet_11", price = {don = 150}, itemname = "item_pet_donate_all_dmg_amp", rarity = "#d400ff", text_color = "#d400ff", type = "pet"},
		[19] = {name = "pet_12", price = {don = 150}, itemname = "item_pet_donate_gold", rarity = "#d400ff", text_color = "#d400ff", type = "pet"},
		[20] = {name = "pet_16", price = {don = 250}, itemname = "item_pet_donate_250_gold_and_exp", rarity = "#fa3535", text_color = "#fa3535", type = "pet"},
		[21] = {name = "pet_17", price = {don = 250}, itemname = "item_pet_donate_250_attribute_bonus", rarity = "#fa3535", text_color = "#fa3535", type = "pet"},
		[22] = {name = "pet_18", price = {don = 250}, itemname = "item_pet_donate_250_dmg_reduction", rarity = "#fa3535", text_color = "#fa3535", type = "pet"},
		[23] = {name = "pet_19", price = {don = 250}, itemname = "item_pet_donate_250_regen", rarity = "#fa3535", text_color = "#fa3535", type = "pet"},
		[24] = {name = "pet_20", price = {don = 250}, itemname = "item_pet_donate_250_bkb", rarity = "#fa3535", text_color = "#fa3535", type = "pet"},
		[25] = {name = "pet_21", price = {don = 250}, itemname = "item_pet_donate_250_phys_dmg_reducrion", rarity = "#fa3535", text_color = "#fa3535", type = "pet"},
		[26] = {name = "pet_22", price = {don = 250}, itemname = "item_pet_donate_250_pure_damage", rarity = "#fa3535", text_color = "#fa3535", type = "pet"},
		[27] = {name = "pet_23", price = {don = 250}, itemname = "item_pet_donate_250_no_spell_phys_bonus", rarity = "#fa3535", text_color = "#fa3535", type = "pet"},
		[28] = {name = "pet_24", price = {don = 250}, itemname = "item_pet_donate_250_no_phys_spell_bonus", rarity = "#fa3535", text_color = "#fa3535", type = "pet"},
		[29] = {name = "pet_25", price = {don = 250}, itemname = "item_pet_donate_250_minus_armor", rarity = "#fa3535", text_color = "#fa3535", type = "pet"},
	},
	[2] = {
		name = "consumables",
		[1] = {name = "scroll_1", price = {don = 5}, itemname = "item_armor_aura", rarity = "gold", type = "consumabl", combinable = true},
		[2] = {name = "scroll_2", price = {don = 5}, itemname = "item_base_damage_aura", rarity = "gold", type = "consumabl", combinable = true},
		[3] = {name = "scroll_3", price = {don = 5}, itemname = "item_expiriance_aura", rarity = "gold", type = "consumabl", combinable = true},
		[4] = {name = "scroll_4", price = {don = 5}, itemname = "item_move_aura", rarity = "gold", type = "consumabl", combinable = true},
		[5] = {name = "scroll_5", price = {don = 5}, itemname = "item_attack_speed_aura", rarity = "gold", type = "consumabl", combinable = true},
		[6] = {name = "scroll_6", price = {don = 5}, itemname = "item_hp_aura", rarity = "gold", type = "consumabl", combinable = true},
		[7] = {name = "scroll_7", price = {don = 2}, itemname = "item_up_ability_tower", rarity = "gold", type = "consumabl", combinable = true},
		[8] = {name = "scroll_8", price = {don = 4}, itemname = "item_up_ability_tower2", rarity = "gold", type = "consumabl", combinable = true},
		[9] = {name = "scroll_9", price = {don = 6}, itemname = "item_up_ability_tower3", rarity = "gold", type = "consumabl", combinable = true},
		[10] = {name = "scroll_10", price = {don = 8}, itemname = "item_up_ability_tower4", rarity = "gold", type = "consumabl", combinable = true},
		[11] = {name = "scroll_11", price = {don = 2}, itemname = "item_ticket", rarity = "gold", type = "consumabl", combinable = true},
		[12] = {name = "scroll_12", price = {don = 10}, itemname = "item_boss_summon", rarity = "gold", type = "consumabl", combinable = true},
		[13] = {name = "other_1", price = {don = 5}, itemname = "item_str", rarity = "red"},
		[14] = {name = "other_2", price = {don = 5}, itemname = "item_agi", rarity = "green"},
		[15] = {name = "other_3", price = {don = 5}, itemname = "item_int", rarity = "blue"},
		[16] = {name = "other_4", price = {don = 15}, itemname = "item_tree_gold", rarity = "gold"},
		[17] = {name = "other_8", price = {don = 30}, itemname = "item_tower_protection", rarity = "gold"},
	},
	[3] = {
		name = "effects",
		[1] = {name = "effect_7", price = {don = 10}, rarity = "white", image = "images/custom_game/DonateShop/items/ef7.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[2] = {name = "effect_8", price = {don = 10}, rarity = "white", image = "images/custom_game/DonateShop/items/ef8.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[3] = {name = "effect_23", price = {don = 10}, rarity = "white", image = "images/custom_game/DonateShop/items/ef23.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[4] = {name = "effect_24", price = {don = 10}, rarity = "white", image = "images/custom_game/DonateShop/items/ef24.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[5] = {name = "effect_22", price = {don = 10}, rarity = "white", image = "images/custom_game/DonateShop/items/ef22.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[6] = {name = "effect_9", price = {don = 10}, rarity = "white", image = "images/custom_game/DonateShop/items/ef9.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[7] = {name = "effect_10", price = {don = 10}, rarity = "white", image = "images/custom_game/DonateShop/items/ef10.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[8] = {name = "effect_13", price = {don = 10}, rarity = "white", image = "images/custom_game/DonateShop/items/ef13.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[9] = {name = "effect_14", price = {don = 10}, rarity = "white", image = "images/custom_game/DonateShop/items/ef14.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[10] = {name = "effect_15", price = {don = 10}, rarity = "white", image = "images/custom_game/DonateShop/items/ef15.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[11] = {name = "effect_6", price = {don = 10}, rarity = "white", image = "images/custom_game/DonateShop/items/ef6.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[12] = {name = "effect_11", price = {don = 15}, rarity = "white", image = "images/custom_game/DonateShop/items/ef11.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[13] = {name = "effect_18", price = {don = 15}, rarity = "white", image = "images/custom_game/DonateShop/items/ef18.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[14] = {name = "effect_19", price = {don = 15}, rarity = "white", image = "images/custom_game/DonateShop/items/ef19.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[15] = {name = "effect_20", price = {don = 15}, rarity = "white", image = "images/custom_game/DonateShop/items/ef20.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[16] = {name = "effect_21", price = {don = 15}, rarity = "white", image = "images/custom_game/DonateShop/items/ef21.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[17] = {name = "effect_1", price = {don = 25}, rarity = "white", image = "images/custom_game/DonateShop/items/ef1.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[18] = {name = "effect_12", price = {don = 25}, rarity = "white", image = "images/custom_game/DonateShop/items/ef12.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[19] = {name = "effect_16", price = {don = 25}, rarity = "white", image = "images/custom_game/DonateShop/items/ef16.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[20] = {name = "effect_17", price = {don = 25}, rarity = "white", image = "images/custom_game/DonateShop/items/ef17.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[21] = {name = "effect_2", price = {don = 25}, rarity = "white", image = "images/custom_game/DonateShop/items/ef2.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[22] = {name = "effect_3", price = {don = 25}, rarity = "white", image = "images/custom_game/DonateShop/items/ef3.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[23] = {name = "effect_4", price = {don = 25}, rarity = "white", image = "images/custom_game/DonateShop/items/ef4.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
		[24] = {name = "effect_5", price = {don = 25}, rarity = "white", image = "images/custom_game/DonateShop/items/ef5.png", type = "effect", tooltip = "shop_image_effect_tooltip"},
	},
	[4] = {
		name = "other",
		[1] = {name = "other_10", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/Axe.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_axe",tooltip="shop_image_heros_tooltip"},
		[2] = {name = "other_11", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/bb.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_bristleback",tooltip="shop_image_heros_tooltip"},
		[3] = {name = "other_12", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/cent.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_centaur",tooltip="shop_image_heros_tooltip"},
		[4] = {name = "other_13", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/dk.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_dragon_knight",tooltip="shop_image_heros_tooltip"},
		[5] = {name = "other_14", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/io.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_wisp",tooltip="shop_image_heros_tooltip"},
		[6] = {name = "other_15", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/mars.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_mars",tooltip="shop_image_heros_tooltip"},
		[7] = {name = "other_16", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/sk.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_sand_king",tooltip="shop_image_heros_tooltip"},
		[8] = {name = "other_17", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/sven.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_sven",tooltip="shop_image_heros_tooltip"},
		[9] = {name = "other_18", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/trent.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_treant",tooltip="shop_image_heros_tooltip"},
		[10] = {name = "other_19", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/wk.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_skeleton_king",tooltip="shop_image_heros_tooltip"},
		[11] = {name = "other_20", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/arc.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_arc_warden",tooltip="shop_image_heros_tooltip"},
		[12] = {name = "other_21", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/drowjpg.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_drow_ranger",tooltip="shop_image_heros_tooltip"},
		[13] = {name = "other_22", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/jugg.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_juggernaut",tooltip="shop_image_heros_tooltip"},
		[14] = {name = "other_23", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/luna.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_luna",tooltip="shop_image_heros_tooltip"},
		[15] = {name = "other_24", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/pa.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_phantom_assassin",tooltip="shop_image_heros_tooltip"},
		[16] = {name = "other_25", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/sf.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_nevermore",tooltip="shop_image_heros_tooltip"},
		[17] = {name = "other_26", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/slark.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_slark",tooltip="shop_image_heros_tooltip"},
		[18] = {name = "other_27", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/sniper.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_sniper",tooltip="shop_image_heros_tooltip"},
		[19] = {name = "other_28", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/spectre.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_spectre",tooltip="shop_image_heros_tooltip"},
		[20] = {name = "other_29", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/terror.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_terrorblade",tooltip="shop_image_heros_tooltip"},
		[21] = {name = "other_30", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/dazzle.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_dazzle",tooltip="shop_image_heros_tooltip"},
		[22] = {name = "other_31", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/lina.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_lina",tooltip="shop_image_heros_tooltip"},
		[23] = {name = "other_32", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/encha.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_enchantress",tooltip="shop_image_heros_tooltip"},
		[24] = {name = "other_33", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/lion.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_lion",tooltip="shop_image_heros_tooltip"},
		[25] = {name = "other_34", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/pugna.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_pugna",tooltip="shop_image_heros_tooltip"},
		[26] = {name = "other_35", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/ss.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_shadow_shaman",tooltip="shop_image_heros_tooltip"},
		[27] = {name = "other_36", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/tinker.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_tinker",tooltip="shop_image_heros_tooltip"},
		[28] = {name = "other_37", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/werlock.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_warlock",tooltip="shop_image_heros_tooltip"},
		[29] = {name = "other_38", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/wr.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_windrunner",tooltip="shop_image_heros_tooltip"},
		[30] = {name = "other_39", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/zeus.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_zuus",tooltip="shop_image_heros_tooltip"},
		[31] = {name = "other_40", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/demusa.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_medusa",tooltip="shop_image_heros_tooltip"},
		[32] = {name = "other_41", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/sky.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_skywrath_mage",tooltip="shop_image_heros_tooltip"},
		[33] = {name = "other_42", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/legion.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_legion_commander",tooltip="shop_image_heros_tooltip"},
		[34] = {name = "other_43", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/pudge.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_pudge",tooltip="shop_image_heros_tooltip"},
		[35] = {name = "other_44", price = {don = 200, rp = 1000}, image = "images/custom_game/DonateShop/heros/marci.png", rarity = "gold", type = "talant", hero = "npc_dota_hero_marci",tooltip="shop_image_heros_tooltip"},
	},
	[5] = {
		name = "gems",
		[1] = {name = "shop_gem_purple_puck_1", price = {don = 3, rp = 100}, image = "images/custom_game/DonateShop/gems/purple__1.png", rarity = "white", text_color = "white", type = "gem", give = 1000, gem_type = 1, combinable = true, tooltip="shop_image_gems_tooltip_1"},
		[2] = {name = "shop_gem_blue_puck_1", price = {don = 3, rp = 100}, image = "images/custom_game/DonateShop/gems/blue__1.png", rarity = "white", text_color = "white", type = "gem", give = 1000, gem_type = 2, combinable = true, tooltip="shop_image_gems_tooltip_2"},
		[3] = {name = "shop_gem_orange_puck_1", price = {don = 3, rp = 100}, image = "images/custom_game/DonateShop/gems/yellow__1.png", rarity = "white", text_color = "white", type = "gem", give = 1000, gem_type = 3, combinable = true, tooltip="shop_image_gems_tooltip_3"},
		[4] = {name = "shop_gem_red_puck_1", price = {don = 3, rp = 100}, image = "images/custom_game/DonateShop/gems/red__1.png", rarity = "white", text_color = "white", type = "gem", give = 1000, gem_type = 4, combinable = true, tooltip="shop_image_gems_tooltip_4"},
		[5] = {name = "shop_gem_green_puck_1", price = {don = 3, rp = 100}, image = "images/custom_game/DonateShop/gems/green__1.png", rarity = "white", text_color = "white", type = "gem", give = 1000, gem_type = 5, combinable = true, tooltip="shop_image_gems_tooltip_5"},
		[6] = {name = "shop_gem_purple_puck_2", price = {don = 10, rp = 200}, image = "images/custom_game/DonateShop/gems/purple__2.png", rarity = "white", text_color = "white", type = "gem", give = 4000, gem_type = 1, combinable = true, tooltip="shop_image_gems_tooltip_1"},
		[7] = {name = "shop_gem_blue_puck_2", price = {don =10, rp = 200}, image = "images/custom_game/DonateShop/gems/blue__2.png", rarity = "white", text_color = "white", type = "gem", give = 4000, gem_type = 2, combinable = true, tooltip="shop_image_gems_tooltip_2"},
		[8] = {name = "shop_gem_orange_puck_2", price = {don = 10, rp = 200}, image = "images/custom_game/DonateShop/gems/yellow__2.png", rarity = "white", text_color = "white", type = "gem", give = 4000, gem_type = 3, combinable = true, tooltip="shop_image_gems_tooltip_3"},
		[9] = {name = "shop_gem_red_puck_2", price = {don = 10, rp = 200}, image = "images/custom_game/DonateShop/gems/red__2.png", rarity = "white", text_color = "white", type = "gem", give = 4000, gem_type = 4, combinable = true, tooltip="shop_image_gems_tooltip_4"},
		[10] = {name = "shop_gem_green_puck_2", price = {don = 10, rp = 200}, image = "images/custom_game/DonateShop/gems/green__2.png", rarity = "white", text_color = "white", type = "gem", give = 4000, gem_type = 5, combinable = true, tooltip="shop_image_gems_tooltip_5"},
		[11] = {name = "shop_gem_purple_puck_3", price = {don = 18, rp = 350}, image = "images/custom_game/DonateShop/gems/purple__3.png", rarity = "white", text_color = "white", type = "gem", give = 8000, gem_type = 1, combinable = true, tooltip="shop_image_gems_tooltip_1"},
		[12] = {name = "shop_gem_blue_puck_3", price = {don = 18, rp = 350}, image = "images/custom_game/DonateShop/gems/blue__3.png", rarity = "white", text_color = "white", type = "gem", give = 8000, gem_type = 2, combinable = true, tooltip="shop_image_gems_tooltip_2"},
		[13] = {name = "shop_gem_orange_puck_3", price = {don = 18, rp = 350}, image = "images/custom_game/DonateShop/gems/yellow__3.png", rarity = "white", text_color = "white", type = "gem", give = 8000, gem_type = 3, combinable = true, tooltip="shop_image_gems_tooltip_3"},
		[14] = {name = "shop_gem_red_puck_3", price = {don = 18, rp = 350}, image = "images/custom_game/DonateShop/gems/red__3.png", rarity = "white", text_color = "white", type = "gem", give = 8000, gem_type = 4, combinable = true, tooltip="shop_image_gems_tooltip_4"},
		[15] = {name = "shop_gem_green_puck_3", price = {don = 18, rp = 350}, image = "images/custom_game/DonateShop/gems/green__3.png", rarity = "white", text_color = "white", type = "gem", give = 8000, gem_type = 5, combinable = true, tooltip="shop_image_gems_tooltip_5"},
		[16] = {name = "shop_gem_purple_puck_4", price = {don = 40, rp = 600}, image = "images/custom_game/DonateShop/gems/purple__4.png", rarity = "white", text_color = "white", type = "gem", give = 20000, gem_type = 1, combinable = true, tooltip="shop_image_gems_tooltip_1"},
		[17] = {name = "shop_gem_blue_puck_4", price = {don = 40, rp = 600}, image = "images/custom_game/DonateShop/gems/blue__4.png", rarity = "white", text_color = "white", type = "gem", give = 20000, gem_type = 2, combinable = true, tooltip="shop_image_gems_tooltip_2"},
		[18] = {name = "shop_gem_orange_puck_4", price = {don = 40, rp = 600}, image = "images/custom_game/DonateShop/gems/yellow__4.png", rarity = "white", text_color = "white", type = "gem", give = 20000, gem_type = 3, combinable = true, tooltip="shop_image_gems_tooltip_3"},
		[19] = {name = "shop_gem_red_puck_4", price = {don = 40, rp = 600}, image = "images/custom_game/DonateShop/gems/red__4.png", rarity = "white", text_color = "white", type = "gem", give = 20000, gem_type = 4, combinable = true, tooltip="shop_image_gems_tooltip_4"},
		[20] = {name = "shop_gem_green_puck_4", price = {don = 40, rp = 600}, image = "images/custom_game/DonateShop/gems/green__4.png", rarity = "white", text_color = "white", type = "gem", give = 20000, gem_type = 5, combinable = true, tooltip="shop_image_gems_tooltip_5"},
		
		-- [6] = {name = "gem_random_1", price = {don = 250, rp = 1000}, image = "images/custom_game/DonateShop/loot-boxes-problem-gambling.png", rarity = "#00ff48", text_color = "#00ff48", type = "loot-box", loot = 1, combinable = true},
	},
}

if Shop == nil then
    _G.Shop = class({})
end

function Shop:init()
	-- Shop.pShop = {}
    -- CustomGameEventManager:RegisterListener("giveItem", Dynamic_Wrap( Shop, 'giveItem' ))
	-- CustomGameEventManager:RegisterListener("ChangeHeroLua", Dynamic_Wrap( Shop, 'ChangeHeroLua' ))
	-- CustomGameEventManager:RegisterListener("buyItem", Dynamic_Wrap( Shop, 'buyItem' ))
    -- CustomGameEventManager:RegisterListener("takeOffEffect", Dynamic_Wrap( Shop, 'takeOffEffect' ))
	-- ListenToGameEvent("player_reconnected", Dynamic_Wrap( Shop, 'OnPlayerReconnected' ), self)
	-- ListenToGameEvent( 'game_rules_state_change', Dynamic_Wrap( Shop, 'OnGameRulesStateChange'), self)
	-- ListenToGameEvent( 'dota_player_gained_level', Dynamic_Wrap( Shop, 'dota_player_gained_level'), self)
	-- ListenToGameEvent("player_chat", Dynamic_Wrap( Shop, "OnChat" ), self )

	self.List = {}
	self.player = {}
	self.premium = {}
	-- CustomGameEventManager:RegisterListener("ShopInitLua",function(_, keys)
    --     Shop:ShopInitLua(keys)
    -- end)
	CustomGameEventManager:RegisterListener("BuyItem",function(_, keys)
        Shop:BuyItem(keys)
    end)
	CustomGameEventManager:RegisterListener("GetItem",function(_, keys)
        Shop:GetItem(keys)
    end)
end

function Shop:ListInit(data)
	for _,v in pairs(data) do
		if not self.List[v.category] then
			self.List[v.category] = {}
		end
		table.insert(self.List[v.category], v)
	end
	CustomNetTables:SetTableValue( "shop", "list", self.List)
end

function Shop:AddGold(pid, amount)
	self.player[pid]['gold'] = self.player[pid]['gold'] + amount
	CustomNetTables:SetTableValue( "shop", tostring(pid), self.player[pid])
end

function Shop:AddGems(pid, amount)
	self.player[pid]['gems'] = self.player[pid]['gems'] + amount
	CustomNetTables:SetTableValue( "shop", tostring(pid), self.player[pid])
end

function Shop:PlayerShopInit(pid, data)
	local store = data["store"]

	self.player[pid] = {}
	self.player[pid]['gold'] = data['gold']
	self.player[pid]['gems'] = data['gems']
	self.player[pid]['premium'] = data['premium']
	self.premium[pid] = data['premium']
	for _,category in pairs(self.List) do
		for _,prod in pairs(category) do
			self.player[pid][prod.ID] = {
				beginning = 0,
				now = 0,
				status = 'buy',
			}
			if store[tostring(prod.ID)] and store[tostring(prod.ID)] > 0 then
				self.player[pid][prod.ID]['beginning'] = store[tostring(prod.ID)]
				self.player[pid][prod.ID]['now'] = store[tostring(prod.ID)]
				if not prod.consumable then
					self.player[pid][prod.ID]['status'] = 'get'
				end
			end
		end
	end
	CustomNetTables:SetTableValue( "shop", tostring(pid), self.player[pid])
end


function Shop:BuyItem(t)
	local amount = tonumber(t.amount)
	local prodID = tonumber(t.prodID)
	local currency = t.currency
	local pid = t.PlayerID
	-- Поиск пбъекта
	local obj
	for _,prod in pairs(Shop.List[t.category]) do
		if prod.ID == prodID then
			obj = prod
			break
		end
	end

	if self.player[pid][currency] < obj[currency] * amount then return end
	-- Деньги
	self.player[pid][currency] = self.player[pid][currency] - obj[currency] * amount
	
	if obj.type == 'talent' then
		-- покупка опыта
		talent:BuyExp(t.PlayerID, amount * obj.give)
	elseif obj.type == 'talent_reset' then
		talent:BuyReset(t.PlayerID)
	elseif obj.type == "bp_exp" then
		BP:BuyExp(t.PlayerID, amount * obj.give)
	elseif obj.can_own then
		-- Добавление предмета
		self.player[pid][prodID]['beginning'] = self.player[pid][prodID]['beginning'] + amount
		self.player[pid][prodID]['now'] = self.player[pid][prodID]['now'] + amount
		-- Смена статуса
		if not obj.consumabl then
			self.player[pid][prodID]['status'] = 'get'
		end
	end

	-- Выход
	CustomNetTables:SetTableValue( "shop", tostring(pid), Shop.player[pid])

	Server:Buy(pid, prodID, currency, amount)
end


function Shop:GetItem(t)
	local pid = t.PlayerID
	-- Поиск объекта
	local obj
	for _,prod in pairs(Shop.List[t.category]) do
		if prod.id == tonumber(t.prodID) then
			obj = prod
			break
		end
	end
	-- Уменьшить количество
	self.player[pid][t.prodID]['now'] = self.player[pid][t.prodID]['now'] - 1
	-- Смена статуса
	if not obj.consumabl then
		self.player[pid][t.prodID]['status'] = 'issued'
	end
	-- Выход
	CustomNetTables:SetTableValue( "shop", tostring(pid), Shop.player[pid])
end

-- function Shop:giveItem(t)
-- 	local pid = t.PlayerID
-- 	local sid = PlayerResource:GetSteamAccountID(pid)
-- 	local categoryKey = t.i
-- 	local productKey = t.n
-- 	if tonumber(Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['now']) <= 0 or Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['status'] == "issued" then
-- 		return
-- 	end
-- 	local hero = PlayerResource:GetSelectedHeroEntity( pid )
-- 	print(Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['now'])
-- 	Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['now'] = tonumber(Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['now']) - 1
-- 	if Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].type == 'pet' and Shop.pShop[pid][1][1].now == 1 then
-- 		for PetKey,PetValue in pairs(Shop.pShop[pid][1]) do
-- 			if PetValue.status == "issued" then
-- 				PetValue.status = "taik"
-- 				item16 = hero:GetItemInSlot( 16 )
-- 				print(item16)
-- 				if item16 ~= nil then
-- 					print("remove:item16")
-- 					hero:RemoveItem(item16)
-- 				end
-- 				PetValue.now = PetValue.now + 1
-- 				CustomGameEventManager:Send_ServerToPlayer( PlayerResource:GetPlayer( pid ), "change_pet", {1, PetKey} )
-- 				break
-- 			end
-- 		end
-- 	end
-- 	if Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['now'] == 0 and Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['status'] ~= "consumabl" then 
-- 		Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['status'] = 'issued'
-- 	end
-- 	if Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].type == "effect" then
-- 		LinkLuaModifier( "modifier_" .. Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].name, "effects/" .. Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].name, LUA_MODIFIER_MOTION_NONE )
-- 		hero:AddNewModifier( hero, nil, "modifier_" .. Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].name, {} )
-- 		Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['status'] = 'takeoff'
-- 	else
-- 		local player = PlayerResource:GetSelectedHeroEntity(pid)
-- 		local spawnPoint = player:GetAbsOrigin()
-- 		player:AddItemByName(Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].itemname)
-- 	end
-- 	if Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].type == "hero_change" then
-- 		Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].status = "active"
-- 		for heroChangeKey,heroChangeValue in pairs(Shop.pShop[pid][tonumber(categoryKey)]) do
-- 			if heroChangeValue.type == "hero_change" and heroChangeKey ~= tonumber(productKey) then
-- 				heroChangeValue.status = "shop_lock"
-- 			end
-- 		end
-- 		Shop:ChangeHero(pid, Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].hero_name)
-- 	end
-- 	-- DeepPrintTable(Shop.pShop[pid])
-- 	-- if Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].type == 'pet' then
-- 	-- 	for q,w in pairs(Shop.pShop[pid]) do
-- 	-- 		if type(w) == 'table' then
-- 	-- 			for e,r in pairs(w) do
-- 	-- 				if type(r) == 'table' and r.type == "pet" then
-- 	-- 					Shop.pShop[pid][q][e]['status'] = 'issued'
-- 	-- 				end
-- 	-- 			end
-- 	-- 		end
-- 	-- 	end
-- 	-- end
-- end

-- function Shop:buyItem(t)
-- 	local pid = t.PlayerID
-- 	local i = tonumber(t.i)
-- 	local n = tonumber(t.n)
-- 	local shop_type = Shop.pShop[pid][i][n]["type"]
-- 	print('amountBuy=',t.amountBuy)
-- 	if t.currency == 1 and Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['rp'] and tonumber(Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['rp'] * t.amountBuy) > tonumber(Shop.pShop[pid].mmrpoints) then
-- 		return
-- 	elseif t.currency == 0 and Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['don'] and tonumber(Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['don']*t.amountBuy) > tonumber(Shop.pShop[pid].coins) then
-- 		return
-- 	end
-- 	if t.currency == 1 then
-- 		Shop.pShop[pid].mmrpoints = Shop.pShop[pid].mmrpoints - Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['rp'] * t.amountBuy
-- 	else
-- 		Shop.pShop[pid].coins = Shop.pShop[pid].coins - Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['don'] * t.amountBuy
-- 	end
-- 	if DataBase:isCheatOn() == false then --
-- 		local sql_name = {}
-- 		local give = {}
-- 		local currency = 'don'
-- 		if t.currency == 1 then currency = 'rp' end
-- 		local price = Shop.pShop[pid][i][n]['price'][currency]
		
		
-- 		sql_name[Shop.pShop[pid][i][n].name] = t.amountBuy
-- 		give[Shop.pShop[pid][i][n].name] = 1

-- 		CustomNetTables:SetTableValue("shopinfo", tostring(pid), {coins = Shop.pShop[pid]["coins"], mmrpoints = Shop.pShop[pid]["mmrpoints"]})
-- 	end
-- end









-- function Shop:OnChat( event )
--     local text = event.text
-- 	local pid = event.playerid
-- 	local steamID = PlayerResource:GetSteamAccountID(pid)
-- 	if steamID == 169401485 or steamID == 1062658804 or steamID == 455872541 or steamID == 393187346 or steamID == 1250222698 then
-- 		if text == "pet" then
-- 			Shop:RefreshPet(pid)
-- 		end
-- 	end
-- end

-- function Shop:RefreshPet(PlayerID)
-- 	local hero = PlayerResource:GetSelectedHeroEntity(PlayerID)
-- 	item = hero:GetItemInSlot( 16 )
-- 	if item == nil then
-- 		return
-- 	end
-- 	hero:RemoveItem(item)

-- 	for _,v in pairs(Shop.pShop[PlayerID][1]) do
-- 		if type(v) == 'table' then
-- 			if v.status == "issued" then
-- 				v.status = "taik"
-- 				break
-- 			end
-- 		end
-- 	end
-- 	CustomGameEventManager:Send_ServerToPlayer( PlayerResource:GetPlayer( PlayerID ), "shop_refresh_pets", Shop.pShop[PlayerID] )
-- end

-- function Shop:OnGameRulesStateChange(keys)
-- 	if GameRules:State_Get() == DOTA_GAMERULES_STATE_PRE_GAME then
-- 		Timers:CreateTimer(2, function() 
-- 			Shop.marci['unit'] = CreateUnitByName(Shop.marci['name'], Vector(-2218,-10550,512), false, nil, nil, DOTA_TEAM_GOODGUYS)
-- 			if Shop.marci['unit'] then
-- 				Shop.marci['unit']:AddNewModifier(Shop.marci['unit'],nil,"modifier_quest",{})
-- 				Shop.marci['index'] = Shop.marci['unit']:entindex()
-- 			end
-- 			Shop.pango['unit'] = CreateUnitByName(Shop.pango['name'], Vector(-2218,-10350,512), false, nil, nil, DOTA_TEAM_GOODGUYS)
-- 			if Shop.pango['unit'] then
-- 				Shop.pango['unit']:AddNewModifier(Shop.pango['unit'],nil,"modifier_quest",{})
-- 				Shop.pango['index'] = Shop.pango['unit']:entindex()
-- 			end
-- 			for i = 0 , PlayerResource:GetPlayerCount() do
-- 				if PlayerResource:IsValidPlayer(i) then
-- 					print("OnGameRulesStateChange GetPlayerCount i=",i)
-- 					local sid = PlayerResource:GetSteamAccountID(i)
-- 					print("OnGameRulesStateChange GetPlayerCount sid=",sid)
-- 					CustomGameEventManager:Send_ServerToPlayer( PlayerResource:GetPlayer( i ), "initShop", Shop.pShop[i] )
-- 					if Shop.pShop[i].totaldonate >= 2000 or RATING["rating"][i+1]["patron"] == 1 or DataBase:isCheatOn() then
-- 						Shop.marci.available[i] = true
-- 						Shop.pango.available[i] = true
-- 					end
-- 					CustomGameEventManager:Send_ServerToPlayer( PlayerResource:GetPlayer( i ), "UpdateChangeHeresInfo", {Shop.marci, Shop.pango} )
-- 				end
-- 			end
-- 		end)
-- 	end
-- end

-- function Shop:OnPlayerReconnected(keys)
-- 	local sid = PlayerResource:GetSteamAccountID(keys.PlayerID)
-- 	local req = CreateHTTPRequestScriptVM( "POST", DataBase.updatecoins  .. '&sid=' .. sid )
-- 	req:SetHTTPRequestGetOrPostParameter('sid',tostring(sid))
-- 	req:SetHTTPRequestAbsoluteTimeoutMS(100000)
-- 	req:Send(function(res)
-- 		if res.StatusCode == 200 then
-- 			Shop.pShop[keys.PlayerID].coins = tonumber(res.Body)
-- 		end
-- 	end)
-- 	if GameRules:State_Get() >= DOTA_GAMERULES_STATE_PRE_GAME then
-- 		Timers:CreateTimer(2, function() 
-- 			local sid = PlayerResource:GetSteamAccountID( keys.PlayerID )
-- 			CustomGameEventManager:Send_ServerToPlayer( PlayerResource:GetPlayer( keys.PlayerID ), "initShop", Shop.pShop[keys.PlayerID] )
-- 		end)
-- 	end
-- end


-- function Shop:createShop()

-- 	if SHOP then
-- 		for i = 0 , PlayerResource:GetPlayerCount() do --
-- 			if PlayerResource:IsValidPlayer(i) then -- 
-- 				local sid = PlayerResource:GetSteamAccountID(i)
-- 				local arr = {}
-- 				for sKey, sValue in pairs(basicshop) do
-- 					if type(sValue) == 'table' then
-- 						arr[sKey] = {}
-- 						for oKey, oValue in pairs(sValue) do
-- 							arr[sKey][oKey] = {}
-- 							if type(oValue) == 'table' then

-- 								for pKey, pValue in pairs(oValue) do
-- 									arr[sKey][oKey][pKey] = pValue
-- 								end
								
-- 								if SHOP[i+1][oValue.name] then
-- 									arr[sKey][oKey].onStart = tonumber(SHOP[i+1][oValue.name])
-- 									arr[sKey][oKey].now = tonumber(SHOP[i+1][oValue.name])
-- 									if arr[sKey][oKey].type == "consumabl" then
-- 										arr[sKey][oKey].status = 'consumabl'
-- 									elseif tonumber(SHOP[i+1][oValue.name]) > 0 then
-- 										if arr[sKey][oKey].type == "talant" or arr[sKey][oKey].type == "pet_change" then
-- 											arr[sKey][oKey].status = 'active'
-- 										else
-- 											arr[sKey][oKey].status = 'taik'
-- 										end
-- 									else
-- 										arr[sKey][oKey].status = 'buy'
-- 									end
-- 								else
-- 									if arr[sKey][oKey].type == "hero_change" then
-- 										arr[sKey][oKey].onStart = 1
-- 										arr[sKey][oKey].now = 1
-- 										if SHOP[i+1]["totaldonate"] >= 2000 then
-- 											arr[sKey][oKey].status = 'shop_select'
-- 										else
-- 											arr[sKey][oKey].status = 'shop_lock'
-- 										end
-- 									else
-- 										arr[sKey][oKey].onStart = 0
-- 										arr[sKey][oKey].now = 0
-- 										if arr[sKey][oKey].type == "consumabl" then
-- 											arr[sKey][oKey].status = 'consumabl'
-- 										else
-- 											arr[sKey][oKey].status = 'buy'
-- 										end
-- 									end
-- 								end
-- 							elseif type(oValue) == 'string' then
-- 								arr[sKey][oKey] = oValue
-- 							end
-- 						end
-- 					end
-- 				end
-- 				if SHOP[i+1].coins then
-- 					arr.coins = SHOP[i+1].coins
-- 				else
-- 					arr.coins = 0
-- 				end
-- 				if SHOP[i+1].mmrpoints then
-- 					arr.mmrpoints = SHOP[i+1].mmrpoints
-- 				else
-- 					arr.mmrpoints = 0
-- 				end
-- 				if SHOP[i+1].totaldonate then
-- 					arr.totaldonate = SHOP[i+1].totaldonate
-- 				else
-- 					arr.totaldonate = 0
-- 				end
-- 				Shop.pShop[i] = arr
-- 				CustomNetTables:SetTableValue("shopinfo", tostring(i), {coins = arr.coins, mmrpoints = arr.mmrpoints, likes = RATING[ 'rating' ][ i + 1 ][ 'likes' ], reports = RATING[ 'rating' ][ i + 1 ][ 'reports' ]})
-- 			end
-- 		end
		
-- 		for i = 0, 4 do
--             Timers:CreateTimer(function()
--                 if PlayerResource:GetPlayer(i) == nil then
--                     return nil
--                 end
--                 if PlayerResource:HasSelectedHero(i) then
--                     local heroName = PlayerResource:GetSelectedHeroName(i)
--                     talants:pickinfo(i,false)
--                     return nil
--                 else
--                     print(PlayerResource:HasSelectedHero(i))
--                 end
--                 return 1.0
--             end)
--         end
-- 	else
-- 		print("============================")
-- 		print("ERROR: _G.SHOP not exist")
-- 		print("CREATE SHOP FAILED")
-- 		peint("============================")
-- 	end
-- end

-- function Shop:dota_player_gained_level(t)
-- 	local player = EntIndexToHScript( t.player )
-- 	local player_id = player:GetPlayerID()
-- 	if Shop.pango.available[player_id] or Shop.marci.available[player_id] then
-- 		Shop.pango.available[player_id] = false
-- 		Shop.marci.available[player_id] = false
-- 		CustomGameEventManager:Send_ServerToPlayer( PlayerResource:GetPlayer( player_id ), "UpdateChangeHeresInfo", {Shop.marci, Shop.pango} )
-- 	end
-- end

-- function Shop:ChangeHeroLua(t)
-- 	if t.hero_name == Shop.pango.hero_name then
-- 		if Shop.pango.available[t.PlayerID] == false then
-- 			return
-- 		else
-- 			for i = 0, 4 do
-- 				Shop.pango.available[i] = false
-- 			end
-- 			Shop.pango.selected[t.PlayerID] = true
-- 			Shop.marci.available[t.PlayerID] = false
-- 		end
-- 	elseif t.hero_name == Shop.marci.hero_name then
-- 		if Shop.marci.available[t.PlayerID] == false then
-- 			return
-- 		else
-- 			for i = 0, 4 do
-- 				Shop.marci.available[i] = false
-- 			end
-- 			Shop.marci.selected[t.PlayerID] = true
-- 			Shop.pango.available[t.PlayerID] = false
-- 		end
-- 	end
-- 	local heroOld = PlayerResource:GetSelectedHeroName( t.PlayerID )
-- 	local hero = PlayerResource:GetSelectedHeroEntity( t.PlayerID )
-- 	GoldNow = hero:GetGold()
-- 	PlayerResource:ReplaceHeroWith(t.PlayerID,t.hero_name,GoldNow,0)
-- 	CustomGameEventManager:Send_ServerToAllClients( "talant_replace_hero", { PlayerID = t.PlayerID, hero_name = heroOld} )
-- 	talants:pickinfo(t.PlayerID,true)
-- 	-- talants:ReplaceTree()
-- 	CustomGameEventManager:Send_ServerToPlayer( PlayerResource:GetPlayer( t.PlayerID ), "UpdateChangeHeresInfo", {Shop.marci, Shop.pango} )
-- end

-- function Shop:giveItem(t)
-- 	local pid = t.PlayerID
-- 	local sid = PlayerResource:GetSteamAccountID(pid)
-- 	local categoryKey = t.i
-- 	local productKey = t.n
-- 	if tonumber(Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['now']) <= 0 or Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['status'] == "issued" then
-- 		return
-- 	end
-- 	local hero = PlayerResource:GetSelectedHeroEntity( pid )
-- 	print(Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['now'])
-- 	Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['now'] = tonumber(Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['now']) - 1
-- 	if Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].type == 'pet' and Shop.pShop[pid][1][1].now == 1 then
-- 		for PetKey,PetValue in pairs(Shop.pShop[pid][1]) do
-- 			if PetValue.status == "issued" then
-- 				PetValue.status = "taik"
-- 				item16 = hero:GetItemInSlot( 16 )
-- 				print(item16)
-- 				if item16 ~= nil then
-- 					print("remove:item16")
-- 					hero:RemoveItem(item16)
-- 				end
-- 				PetValue.now = PetValue.now + 1
-- 				CustomGameEventManager:Send_ServerToPlayer( PlayerResource:GetPlayer( pid ), "change_pet", {1, PetKey} )
-- 				break
-- 			end
-- 		end
-- 	end
-- 	if Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['now'] == 0 and Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['status'] ~= "consumabl" then 
-- 		Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['status'] = 'issued'
-- 	end
-- 	if Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].type == "effect" then
-- 		LinkLuaModifier( "modifier_" .. Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].name, "effects/" .. Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].name, LUA_MODIFIER_MOTION_NONE )
-- 		hero:AddNewModifier( hero, nil, "modifier_" .. Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].name, {} )
-- 		Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)]['status'] = 'takeoff'
-- 	else
-- 		local player = PlayerResource:GetSelectedHeroEntity(pid)
-- 		local spawnPoint = player:GetAbsOrigin()
-- 		player:AddItemByName(Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].itemname)
-- 	end
-- 	if Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].type == "hero_change" then
-- 		Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].status = "active"
-- 		for heroChangeKey,heroChangeValue in pairs(Shop.pShop[pid][tonumber(categoryKey)]) do
-- 			if heroChangeValue.type == "hero_change" and heroChangeKey ~= tonumber(productKey) then
-- 				heroChangeValue.status = "shop_lock"
-- 			end
-- 		end
-- 		Shop:ChangeHero(pid, Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].hero_name)
-- 	end
-- 	-- DeepPrintTable(Shop.pShop[pid])
-- 	-- if Shop.pShop[pid][tonumber(categoryKey)][tonumber(productKey)].type == 'pet' then
-- 	-- 	for q,w in pairs(Shop.pShop[pid]) do
-- 	-- 		if type(w) == 'table' then
-- 	-- 			for e,r in pairs(w) do
-- 	-- 				if type(r) == 'table' and r.type == "pet" then
-- 	-- 					Shop.pShop[pid][q][e]['status'] = 'issued'
-- 	-- 				end
-- 	-- 			end
-- 	-- 		end
-- 	-- 	end
-- 	-- end
-- end

-- function Shop:takeOffEffect(t)
-- 	local pid = t.PlayerID
-- 	Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['now'] = tonumber(Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['now']) + 1

--     local hero = PlayerResource:GetSelectedHeroEntity( pid )
--     hero:RemoveModifierByName( "modifier_" .. Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)].name)

-- end


-- function Shop:buyItem(t)
-- 	local pid = t.PlayerID
-- 	local i = tonumber(t.i)
-- 	local n = tonumber(t.n)
-- 	local shop_type = Shop.pShop[pid][i][n]["type"]
-- 	print('amountBuy=',t.amountBuy)
-- 	if t.currency == 1 and Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['rp'] and tonumber(Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['rp'] * t.amountBuy) > tonumber(Shop.pShop[pid].mmrpoints) then
-- 		return
-- 	elseif t.currency == 0 and Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['don'] and tonumber(Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['don']*t.amountBuy) > tonumber(Shop.pShop[pid].coins) then
-- 		return
-- 	end
-- 	if Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]["type"] ~= "gem" and Shop.pShop[pid][i][n]["type"] ~= "loot-box" then
-- 		Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['now'] = tonumber(Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)].now) + t.amountBuy
-- 		Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['onStart'] = tonumber(Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['onStart']) + t.amountBuy
-- 	end
-- 	if t.currency == 1 then
-- 		Shop.pShop[pid].mmrpoints = Shop.pShop[pid].mmrpoints - Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['rp'] * t.amountBuy
-- 	else
-- 		Shop.pShop[pid].coins = Shop.pShop[pid].coins - Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]['price']['don'] * t.amountBuy
-- 	end
-- 	if DataBase:isCheatOn() == false then --
-- 		local sql_name = {}
-- 		local give = {}
-- 		local currency = 'don'
-- 		if t.currency == 1 then currency = 'rp' end
-- 		local price = Shop.pShop[pid][i][n]['price'][currency]
		
-- 		if Shop.pShop[pid][i][n]["type"] == "gem" then
-- 			local gem_name = 'gem_' .. Shop.pShop[pid][i][n]['gem_type']
-- 			sql_name[gem_name] = t.amountBuy
-- 			give[gem_name] = Shop.pShop[pid][i][n]['give']
-- 		elseif Shop.pShop[pid][i][n]["type"] == "loot-box" then
-- 			-- loot box 
-- 			for z = 1, t.amountBuy do
-- 				local randomInt = RandomInt(1,100)
-- 				local ds = 0
-- 				local slt = nil
-- 				for g,m in pairs(loot_box_info[Shop.pShop[pid][i][n]['loot']]) do
-- 					--key value
-- 					local dsc = ds + 1
-- 					ds = ds + m['chance']
-- 					if randomInt >= dsc and randomInt <= ds then
-- 						slt = g
-- 						break
-- 					end
-- 				end
-- 				-- print(randomInt)
-- 				-- print(slt)
-- 				local loot_name = loot_box_info[Shop.pShop[pid][i][n]['loot']][slt]['name']
-- 				for k1,v1 in pairs(_G.basicshop) do
-- 					for k2,v2 in pairs(v1) do
-- 						if type(v2) == 'table' and v2.name == loot_name then
-- 							-- DeepPrintTable(v2)
-- 							if v2.type == 'gem' then
-- 								local gem_name = 'gem_' .. v2['gem_type']
-- 								if sql_name[gem_name] then
-- 									sql_name[gem_name] = sql_name[gem_name] + 1
-- 								else
-- 									sql_name[gem_name] = 1
-- 								end
-- 								give[gem_name] = v2['give']
-- 							end
-- 						end
-- 					end
-- 				end
-- 			end
-- 		else
-- 			sql_name[Shop.pShop[pid][i][n].name] = t.amountBuy
-- 			give[Shop.pShop[pid][i][n].name] = 1
-- 		end

-- 		if shop_type == "talant" then
-- 			talants:sendServer({PlayerID = pid, changename = "cout", value = 2, changetype = "set", chartype = "int", win_lose = nil, heroname = Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]["hero"]})
-- 			if Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]["hero"] == PlayerResource:GetSelectedHeroName(pid) then
-- 				local tab = CustomNetTables:GetTableValue("talants", tostring(pid))
-- 				tab["cout"] = 2
-- 				progress[t.PlayerID] = tab
-- 				CustomNetTables:SetTableValue("talants", tostring(pid), tab)
-- 			end
-- 		elseif shop_type == "gem" then
-- 			print(Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]["give"],' ',t.amountBuy,' ',Shop.pShop[pid][tonumber(t.i)][tonumber(t.n)]["give"] * t.amountBuy)
-- 			Smithy:add_gems({PlayerID = t.PlayerID, type = Shop.pShop[pid][i][n]["gem_type"], value = Shop.pShop[pid][i][n]["give"] * t.amountBuy, shop = true})
-- 		end
-- 		DataBase:buyRequest({PlayerID = t.PlayerID, name = sql_name, give = give, price = price, amount = t.amountBuy, currency = currency})
-- 		CustomNetTables:SetTableValue("shopinfo", tostring(pid), {coins = Shop.pShop[pid]["coins"], mmrpoints = Shop.pShop[pid]["mmrpoints"]})
-- 	end
-- end



Shop:init()
-- Shop:PlayerShopInit(0, PlayerShopData)